
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8" />
    <title>è‹ç©¹å¤–å–day02 | é™ˆå°è¾¾çš„ä¸ªäººåšå®¢</title>
    <meta name="author" content="chenjunda" />
    <meta name="description" content="å­¦ä¹ ç¬”è®°" />
    <meta name="keywords" content="" />
    <meta
        name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"
    />
    <link rel="icon" href="/images/avatar.jpg" />
    <link rel="preconnect" href="https://s4.zstatic.net" />
<script src="https://s4.zstatic.net/ajax/libs/vue/3.3.7/vue.global.prod.min.js"></script>
<link rel="stylesheet" href="https://s4.zstatic.net/ajax/libs/font-awesome/6.4.2/css/all.min.css" />
<link rel="preconnect" href="https://fonts.googleapis.cn" />
<link rel="preconnect" href="https://fonts.gstatic.cn" crossorigin />
<link
    rel="stylesheet"
    href="https://fonts.googleapis.cn/css2?family=Fira+Code:wght@400;500;600;700&family=Lexend:wght@400;500;600;700;800;900&family=Noto+Sans+SC:wght@400;500;600;700;800;900&display=swap"
/>
<script> const mixins = {}; </script>

<script src="https://polyfill.alicdn.com/v3/polyfill.min.js?features=default"></script>


<script src="https://s4.zstatic.net/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script src="https://s4.zstatic.net/ajax/libs/highlightjs-line-numbers.js/2.8.0/highlightjs-line-numbers.min.js"></script>
<link
    rel="stylesheet"
    href="https://s4.zstatic.net/ajax/libs/highlight.js/11.9.0/styles/github.min.css"
/>
<script src="/js/lib/highlight.js"></script>


<script src="https://s4.zstatic.net/ajax/libs/KaTeX/0.16.9/katex.min.js"></script>
<script src="https://s4.zstatic.net/ajax/libs/KaTeX/0.16.9/contrib/auto-render.min.js"></script>
<link rel="stylesheet" href="https://s4.zstatic.net/ajax/libs/KaTeX/0.16.9/katex.min.css" />
<script src="/js/lib/math.js"></script>


<script src="/js/lib/preview.js"></script>









<link rel="stylesheet" href="/css/main.css" />

<meta name="generator" content="Hexo 7.3.0"></head>
<body>
    <div id="layout">
        <transition name="fade">
            <div id="loading" v-show="loading">
                <div id="loading-circle">
                    <h2>LOADING</h2>
                    <p>åŠ è½½è¿‡æ…¢è¯·å¼€å¯ç¼“å­˜ æµè§ˆå™¨é»˜è®¤å¼€å¯</p>
                    <img src="/images/loading.gif" />
                </div>
            </div>
        </transition>
        <div id="menu" :class="{ hidden: hiddenMenu, 'menu-color': menuColor}">
    <nav id="desktop-menu">
        <a class="title" href="/">
            <span>é™ˆå°è¾¾çš„ä¸ªäººåšå®¢</span>
        </a>
        
        <a href="/">
            <i class="fa-solid fa-house fa-fw"></i>
            <span>&ensp;Home</span>
        </a>
        
        <a href="/about">
            <i class="fa-solid fa-id-card fa-fw"></i>
            <span>&ensp;About</span>
        </a>
        
        <a href="/archives">
            <i class="fa-solid fa-box-archive fa-fw"></i>
            <span>&ensp;Archives</span>
        </a>
        
        <a href="/categories">
            <i class="fa-solid fa-bookmark fa-fw"></i>
            <span>&ensp;Categories</span>
        </a>
        
        <a href="/tags">
            <i class="fa-solid fa-tags fa-fw"></i>
            <span>&ensp;Tags</span>
        </a>
        
    </nav>
    <nav id="mobile-menu">
        <div class="title" @click="showMenuItems = !showMenuItems">
            <i class="fa-solid fa-bars fa-fw"></i>
            <span>&emsp;é™ˆå°è¾¾çš„ä¸ªäººåšå®¢</span>
        </div>
        <transition name="slide">
            <div class="items" v-show="showMenuItems">
                
                <a href="/">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-house fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Home</div>
                    </div>
                </a>
                
                <a href="/about">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-id-card fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">About</div>
                    </div>
                </a>
                
                <a href="/archives">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-box-archive fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Archives</div>
                    </div>
                </a>
                
                <a href="/categories">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-bookmark fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Categories</div>
                    </div>
                </a>
                
                <a href="/tags">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-tags fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Tags</div>
                    </div>
                </a>
                
            </div>
        </transition>
    </nav>
</div>
<transition name="fade">
    <div id="menu-curtain" @click="showMenuItems = !showMenuItems" v-show="showMenuItems"></div>
</transition>

        <div id="main" :class="loading ? 'into-enter-from': 'into-enter-active'">
            <div class="article">
    <div>
        <h1>è‹ç©¹å¤–å–day02</h1>
    </div>
    <div class="info">
        <span class="date">
            <span class="icon">
                <i class="fa-solid fa-calendar fa-fw"></i>
            </span>
            2025/7/17
        </span>
        
        <span class="category">
            <a href="/categories/java/">
                <span class="icon">
                    <i class="fa-solid fa-bookmark fa-fw"></i>
                </span>
                java
            </a>
        </span>
        
        
        <span class="tags">
            <span class="icon">
                <i class="fa-solid fa-tags fa-fw"></i>
            </span>
            
            
            <span class="tag">
                
                <a href="/tags/javaWeb/" style="color: #00a596">
                    javaWeb
                </a>
            </span>
            
        </span>
        
    </div>
    
    <div class="content" v-pre>
        <h1 id="è‹ç©¹å¤–å–day02"><a href="#è‹ç©¹å¤–å–day02" class="headerlink" title="è‹ç©¹å¤–å–day02"></a>è‹ç©¹å¤–å–day02</h1><span id="more"></span>

<h2 id="1-æ–°å¢å‘˜å·¥"><a href="#1-æ–°å¢å‘˜å·¥" class="headerlink" title="1. æ–°å¢å‘˜å·¥"></a>1. æ–°å¢å‘˜å·¥</h2><h3 id="1-1-éœ€æ±‚åˆ†æå’Œè®¾è®¡"><a href="#1-1-éœ€æ±‚åˆ†æå’Œè®¾è®¡" class="headerlink" title="1.1 éœ€æ±‚åˆ†æå’Œè®¾è®¡"></a>1.1 éœ€æ±‚åˆ†æå’Œè®¾è®¡</h3><h4 id="1-1-1-äº§å“åŸå‹"><a href="#1-1-1-äº§å“åŸå‹" class="headerlink" title="1.1.1 äº§å“åŸå‹"></a>1.1.1 äº§å“åŸå‹</h4><p><img src="/%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96day02/image-20221111161120975.png" alt="image-20221111161120975"></p>
<p><strong>æ³¨æ„äº‹é¡¹ï¼š</strong></p>
<ol>
<li>è´¦å·å¿…é¡»æ˜¯å”¯ä¸€çš„</li>
<li>æ‰‹æœºå·ä¸ºåˆæ³•çš„11ä½æ‰‹æœºå·ç </li>
<li>èº«ä»½è¯å·ä¸ºåˆæ³•çš„18ä½èº«ä»½è¯å·ç </li>
<li>å¯†ç é»˜è®¤ä¸º123456</li>
</ol>
<h4 id="1-1-2-æ¥å£è®¾è®¡"><a href="#1-1-2-æ¥å£è®¾è®¡" class="headerlink" title="1.1.2 æ¥å£è®¾è®¡"></a>1.1.2 æ¥å£è®¾è®¡</h4><img src="è‹ç©¹å¤–å–day02/image-20221111162912753.png" alt="image-20221111162912753" style="zoom: 67%;" />

<img src="è‹ç©¹å¤–å–day02/image-20221111162930483.png" alt="image-20221111162930483" style="zoom: 67%;" />

<p>æœ¬é¡¹ç›®çº¦å®šï¼š</p>
<ul>
<li><strong>ç®¡ç†ç«¯</strong>å‘å‡ºçš„è¯·æ±‚ï¼Œç»Ÿä¸€ä½¿ç”¨**&#x2F;admin**ä½œä¸ºå‰ç¼€ã€‚</li>
<li><strong>ç”¨æˆ·ç«¯</strong>å‘å‡ºçš„è¯·æ±‚ï¼Œç»Ÿä¸€ä½¿ç”¨**&#x2F;user**ä½œä¸ºå‰ç¼€ã€‚</li>
</ul>
<h4 id="1-1-3-è¡¨è®¾è®¡"><a href="#1-1-3-è¡¨è®¾è®¡" class="headerlink" title="1.1.3 è¡¨è®¾è®¡"></a>1.1.3 è¡¨è®¾è®¡</h4><p>æ–°å¢å‘˜å·¥ï¼Œå…¶å®å°±æ˜¯å°†æˆ‘ä»¬æ–°å¢é¡µé¢å½•å…¥çš„å‘˜å·¥æ•°æ®æ’å…¥åˆ°employeeè¡¨ã€‚</p>
<p><strong>employeeè¡¨ç»“æ„ï¼š</strong></p>
<table>
<thead>
<tr>
<th><strong>å­—æ®µå</strong></th>
<th><strong>æ•°æ®ç±»å‹</strong></th>
<th><strong>è¯´æ˜</strong></th>
<th><strong>å¤‡æ³¨</strong></th>
</tr>
</thead>
<tbody><tr>
<td>id</td>
<td>bigint</td>
<td>ä¸»é”®</td>
<td>è‡ªå¢</td>
</tr>
<tr>
<td>name</td>
<td>varchar(32)</td>
<td>å§“å</td>
<td></td>
</tr>
<tr>
<td>username</td>
<td>varchar(32)</td>
<td>ç”¨æˆ·å</td>
<td>å”¯ä¸€</td>
</tr>
<tr>
<td>password</td>
<td>varchar(64)</td>
<td>å¯†ç </td>
<td></td>
</tr>
<tr>
<td>phone</td>
<td>varchar(11)</td>
<td>æ‰‹æœºå·</td>
<td></td>
</tr>
<tr>
<td>sex</td>
<td>varchar(2)</td>
<td>æ€§åˆ«</td>
<td></td>
</tr>
<tr>
<td>id_number</td>
<td>varchar(18)</td>
<td>èº«ä»½è¯å·</td>
<td></td>
</tr>
<tr>
<td>status</td>
<td>Int</td>
<td>è´¦å·çŠ¶æ€</td>
<td>1æ­£å¸¸ 0é”å®š</td>
</tr>
<tr>
<td>create_time</td>
<td>Datetime</td>
<td>åˆ›å»ºæ—¶é—´</td>
<td></td>
</tr>
<tr>
<td>update_time</td>
<td>datetime</td>
<td>æœ€åä¿®æ”¹æ—¶é—´</td>
<td></td>
</tr>
<tr>
<td>create_user</td>
<td>bigint</td>
<td>åˆ›å»ºäººid</td>
<td></td>
</tr>
<tr>
<td>update_user</td>
<td>bigint</td>
<td>æœ€åä¿®æ”¹äººid</td>
<td></td>
</tr>
</tbody></table>
<p>å…¶ä¸­ï¼Œemployeeè¡¨ä¸­çš„statuså­—æ®µå·²ç»è®¾ç½®äº†é»˜è®¤å€¼1ï¼Œè¡¨ç¤ºçŠ¶æ€æ­£å¸¸ã€‚</p>
<p><img src="/%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96day02/image-20221111180159188.png" alt="image-20221111180159188"></p>
<h3 id="1-2-ä»£ç å¼€å‘"><a href="#1-2-ä»£ç å¼€å‘" class="headerlink" title="1.2 ä»£ç å¼€å‘"></a>1.2 ä»£ç å¼€å‘</h3><h4 id="1-2-1-è®¾è®¡DTOç±»"><a href="#1-2-1-è®¾è®¡DTOç±»" class="headerlink" title="1.2.1 è®¾è®¡DTOç±»"></a>1.2.1 è®¾è®¡DTOç±»</h4><p><strong>æ ¹æ®æ–°å¢å‘˜å·¥æ¥å£è®¾è®¡å¯¹åº”çš„DTO</strong></p>
<p>å‰ç«¯ä¼ é€’å‚æ•°åˆ—è¡¨ï¼š</p>
<p><img src="/%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96day02/image-20221111164002448.png" alt="image-20221111164002448"></p>
<p><strong>æ€è€ƒï¼š</strong>æ˜¯å¦å¯ä»¥ä½¿ç”¨å¯¹åº”çš„å®ä½“ç±»æ¥æ¥æ”¶å‘¢ï¼Ÿ</p>
<p><img src="/%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96day02/image-20221111164453341.png" alt="image-20221111164453341"></p>
<p><strong>æ³¨æ„ï¼š</strong>å½“å‰ç«¯æäº¤çš„æ•°æ®å’Œå®ä½“ç±»ä¸­å¯¹åº”çš„å±æ€§å·®åˆ«æ¯”è¾ƒå¤§æ—¶ï¼Œå»ºè®®ä½¿ç”¨DTOæ¥å°è£…æ•°æ®</p>
<p>ç”±äºä¸Šè¿°ä¼ å…¥å‚æ•°å’Œå®ä½“ç±»æœ‰è¾ƒå¤§å·®åˆ«ï¼Œæ‰€ä»¥è‡ªå®šä¹‰DTOç±»ã€‚</p>
<p>è¿›å…¥sky-pojoæ¨¡å—ï¼Œåœ¨com.sky.dtoåŒ…ä¸‹ï¼Œå·²å®šä¹‰EmployeeDTO</p>
<pre><code class="java">package com.sky.dto;

import lombok.Data;

import java.io.Serializable;

@Data
public class EmployeeDTO implements Serializable &#123;

    private Long id;

    private String username;

    private String name;

    private String phone;

    private String sex;

    private String idNumber;

&#125;
</code></pre>
<h4 id="1-2-2-Controllerå±‚"><a href="#1-2-2-Controllerå±‚" class="headerlink" title="1.2.2 Controllerå±‚"></a>1.2.2 Controllerå±‚</h4><p> <strong>EmployeeControllerä¸­åˆ›å»ºæ–°å¢å‘˜å·¥æ–¹æ³•</strong></p>
<p>è¿›å…¥åˆ°sky-serveræ¨¡å—ä¸­ï¼Œåœ¨com.sky.controller.adminåŒ…ä¸‹ï¼Œåœ¨EmployeeControllerä¸­åˆ›å»ºæ–°å¢å‘˜å·¥æ–¹æ³•ï¼Œæ¥æ”¶å‰ç«¯æäº¤çš„å‚æ•°ã€‚</p>
<pre><code class="java">    /**
     * æ–°å¢å‘˜å·¥
     * @param employeeDTO
     * @return
     */
    @PostMapping
    @ApiOperation(&quot;æ–°å¢å‘˜å·¥&quot;)
    public Result save(@RequestBody EmployeeDTO employeeDTO)&#123;
        log.info(&quot;æ–°å¢å‘˜å·¥ï¼š&#123;&#125;&quot;,employeeDTO);
        employeeService.save(employeeDTO);//è¯¥æ–¹æ³•åç»­æ­¥éª¤ä¼šå®šä¹‰
        return Result.success();
    &#125;
</code></pre>
<p><strong>æ³¨ï¼š</strong>Resultç±»å®šä¹‰äº†åç«¯ç»Ÿä¸€è¿”å›ç»“æœæ ¼å¼ã€‚</p>
<p>è¿›å…¥sky-commonæ¨¡å—ï¼Œåœ¨com.sky.resultåŒ…ä¸‹å®šä¹‰äº†Result.java</p>
<pre><code class="java">package com.sky.result;

import lombok.Data;

import java.io.Serializable;

/**
 * åç«¯ç»Ÿä¸€è¿”å›ç»“æœ
 * @param &lt;T&gt;
 */
@Data
public class Result&lt;T&gt; implements Serializable &#123;

    private Integer code; //ç¼–ç ï¼š1æˆåŠŸï¼Œ0å’Œå…¶å®ƒæ•°å­—ä¸ºå¤±è´¥
    private String msg; //é”™è¯¯ä¿¡æ¯
    private T data; //æ•°æ®

    public static &lt;T&gt; Result&lt;T&gt; success() &#123;
        Result&lt;T&gt; result = new Result&lt;T&gt;();
        result.code = 1;
        return result;
    &#125;

    public static &lt;T&gt; Result&lt;T&gt; success(T object) &#123;
        Result&lt;T&gt; result = new Result&lt;T&gt;();
        result.data = object;
        result.code = 1;
        return result;
    &#125;

    public static &lt;T&gt; Result&lt;T&gt; error(String msg) &#123;
        Result result = new Result();
        result.msg = msg;
        result.code = 0;
        return result;
    &#125;

&#125;
</code></pre>
<h4 id="1-2-3-Serviceå±‚æ¥å£"><a href="#1-2-3-Serviceå±‚æ¥å£" class="headerlink" title="1.2.3 Serviceå±‚æ¥å£"></a>1.2.3 Serviceå±‚æ¥å£</h4><p><strong>åœ¨EmployeeServiceæ¥å£ä¸­å£°æ˜æ–°å¢å‘˜å·¥æ–¹æ³•</strong></p>
<p>è¿›å…¥åˆ°sky-serveræ¨¡å—ä¸­,com.sky.server.EmployeeService</p>
<pre><code class="java">    /**
     * æ–°å¢å‘˜å·¥
     * @param employeeDTO
     */
    void save(EmployeeDTO employeeDTO);
</code></pre>
<h4 id="1-2-4-Serviceå±‚å®ç°ç±»"><a href="#1-2-4-Serviceå±‚å®ç°ç±»" class="headerlink" title="1.2.4 Serviceå±‚å®ç°ç±»"></a>1.2.4 Serviceå±‚å®ç°ç±»</h4><p><strong>åœ¨EmployeeServiceImplä¸­å®ç°æ–°å¢å‘˜å·¥æ–¹æ³•</strong></p>
<p>com.sky.server.impl.EmployeeServiceImplä¸­åˆ›å»ºæ–¹æ³•</p>
<pre><code class="java">/**
 * æ–°å¢å‘˜å·¥
 * @param employeeDTO
 */
@Override
public void save(EmployeeDTO employeeDTO) &#123;
    Employee employee = new Employee();

    //é€šè¿‡DTOéƒ¨åˆ†å¯¼å…¥å‘˜å·¥ç±»çš„å±æ€§
    BeanUtils.copyProperties(employeeDTO, employee);
    //å‰©ä¸‹çš„å±æ€§è¦æ‰‹åŠ¨é…ç½®

    //é…ç½®statuså±æ€§
    employee.setStatus(StatusConstant.ENABLE);

    //DigestUtils.md5DigestAsHex(...)
    //è¿™æ˜¯ Spring æ¡†æ¶æä¾›çš„å·¥å…·ç±»ï¼Œä½œç”¨æ˜¯ï¼š
    //ç”¨ MD5 ç®—æ³•åŠ å¯†å­—èŠ‚æ•°ç»„
    //å¹¶è¿”å›ä¸€ä¸ª 32ä½çš„åå…­è¿›åˆ¶å­—ç¬¦ä¸²
    //æ¯”å¦‚ï¼š
    //&quot;123456&quot; åŠ å¯†åæ˜¯ï¼še10adc3949ba59abbe56e057f20f883e
    //


    //employee.setPassword(...)
    //æŠŠåŠ å¯†åçš„å­—ç¬¦ä¸²è®¾ç½®ä¸ºå‘˜å·¥å¯¹è±¡çš„å¯†ç ã€‚
    employee.setPassword(DigestUtils.md5DigestAsHex(employee.getPassword().getBytes()));

    //è®¾ç½®å½“å‰è®°å½•çš„åˆ›å»ºæ—¶é—´å’Œä¿®æ”¹æ—¶é—´
    employee.setCreateTime(LocalDateTime.now());
    employee.setUpdateTime(LocalDateTime.now());

    //è®¾ç½®å½“å‰è®°å½•åˆ›å»ºäººidå’Œä¿®æ”¹äººid
    //TODOç›®å‰å†™ä¸ªå‡æ•°æ®ï¼ŒåæœŸä¿®æ”¹
            employee.setCreateUser(10L);//a
            employee.setUpdateUser(10L);

           employeeMapper.insert(employee);//åç»­æ­¥éª¤å®šä¹‰
&#125;
</code></pre>
<p>åœ¨sky-commonæ¨¡å—com.sky.constantsåŒ…ä¸‹å·²å®šä¹‰StatusConstant.java</p>
<pre><code class="java">package com.sky.constant;

/**
 * çŠ¶æ€å¸¸é‡ï¼Œå¯ç”¨æˆ–è€…ç¦ç”¨
 */
public class StatusConstant &#123;

    //å¯ç”¨
    public static final Integer ENABLE = 1;

    //ç¦ç”¨
    public static final Integer DISABLE = 0;
&#125;
</code></pre>
<h4 id="1-2-5-Mapperå±‚"><a href="#1-2-5-Mapperå±‚" class="headerlink" title="1.2.5 Mapperå±‚"></a>1.2.5 Mapperå±‚</h4><p><strong>åœ¨EmployeeMapperä¸­å£°æ˜insertæ–¹æ³•</strong></p>
<p>com.sky.EmployeeMapperä¸­æ·»åŠ æ–¹æ³•</p>
<pre><code class="java">/**
 * æ’å…¥å‘˜å·¥æ•°æ®
 * @param employee
 */
@Insert(&quot;insert into employee (name, username, password, phone, sex, id_number, create_time, update_time, create_user, update_user,status) &quot; +
        &quot;values &quot; +
        &quot;(#&#123;name&#125;,#&#123;username&#125;,#&#123;password&#125;,#&#123;phone&#125;,#&#123;sex&#125;,#&#123;idNumber&#125;,#&#123;createTime&#125;,#&#123;updateTime&#125;,#&#123;createUser&#125;,#&#123;updateUser&#125;,#&#123;status&#125;)&quot;)
void insert(Employee employee);
</code></pre>
<p>åœ¨application.ymlä¸­å·²å¼€å¯é©¼å³°å‘½åï¼Œæ•…id_numberå’ŒidNumberå¯å¯¹åº”ã€‚</p>
<pre><code class="yaml">mybatis:
  configuration:
    #å¼€å¯é©¼å³°å‘½å
    map-underscore-to-camel-case: true
</code></pre>
<p>å¦‚æœä¸å¼€å°±è¦æ‰‹åŠ¨ASæ˜ å°„åˆ°java</p>
<select id="getAll" resultType="com.example.Employee">
    SELECT
        id,
        name,
        id_number AS idNumber  -- æŒ‡å®šåˆ«åä¸ºJavaå±æ€§å
    FROM employee
</select>

<h3 id="1-3-åŠŸèƒ½æµ‹è¯•"><a href="#1-3-åŠŸèƒ½æµ‹è¯•" class="headerlink" title="1.3 åŠŸèƒ½æµ‹è¯•"></a>1.3 åŠŸèƒ½æµ‹è¯•</h3><p>ä»£ç å·²ç»å‘å¼€å‘å®Œæ¯•ï¼Œå¯¹æ–°å¢å‘˜å·¥åŠŸèƒ½è¿›è¡Œæµ‹è¯•ã€‚</p>
<p><strong>åŠŸèƒ½æµ‹è¯•å®ç°æ–¹å¼ï¼š</strong></p>
<ul>
<li>é€šè¿‡æ¥å£æ–‡æ¡£æµ‹è¯•</li>
<li>é€šå‰åç«¯è”è°ƒæµ‹è¯•</li>
</ul>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬ä½¿ç”¨ä¸Šè¿°ä¸¤ç§æ–¹å¼åˆ†åˆ«æµ‹è¯•ã€‚</p>
<h4 id="1-3-1-æ¥å£æ–‡æ¡£æµ‹è¯•"><a href="#1-3-1-æ¥å£æ–‡æ¡£æµ‹è¯•" class="headerlink" title="1.3.1 æ¥å£æ–‡æ¡£æµ‹è¯•"></a>1.3.1 æ¥å£æ–‡æ¡£æµ‹è¯•</h4><p><strong>å¯åŠ¨æœåŠ¡ï¼š</strong>è®¿é—®<a target="_blank" rel="noopener" href="http://localhost:8080/doc.html%EF%BC%8C%E8%BF%9B%E5%85%A5%E6%96%B0%E5%A2%9E%E5%91%98%E5%B7%A5%E6%8E%A5%E5%8F%A3">http://localhost:8080/doc.htmlï¼Œè¿›å…¥æ–°å¢å‘˜å·¥æ¥å£</a></p>
<p><img src="/%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96day02/image-20221111184934153.png" alt="image-20221111184934153"></p>
<p>jsonæ•°æ®ï¼š</p>
<pre><code class="json">&#123;
  &quot;id&quot;: 0,
  &quot;idNumber&quot;: &quot;111222333444555666&quot;,
  &quot;name&quot;: &quot;xiaozhi&quot;,
  &quot;phone&quot;: &quot;13812344321&quot;,
  &quot;sex&quot;: &quot;1&quot;,
  &quot;username&quot;: &quot;å°æ™º&quot;
&#125;
</code></pre>
<p>å“åº”ç ï¼š401 æŠ¥é”™</p>
<p><strong>é€šè¿‡æ–­ç‚¹è°ƒè¯•ï¼š</strong>è¿›å…¥åˆ°JwtTokenAdminInterceptoræ‹¦æˆªå™¨</p>
<p><strong>é€šè¿‡æ–­ç‚¹è°ƒè¯•ï¼š</strong>è¿›å…¥åˆ°JwtTokenAdminInterceptoræ‹¦æˆªå™¨</p>
<pre><code class="java">     /**
     * æ ¡éªŒjwt
     *
     * @param request
     * @param response
     * @param handler
     * @return
     * @throws Exception
     */
    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception &#123;
        //åˆ¤æ–­å½“å‰æ‹¦æˆªåˆ°çš„æ˜¯Controllerçš„æ–¹æ³•è¿˜æ˜¯å…¶ä»–èµ„æº
        if (!(handler instanceof HandlerMethod)) &#123;
            //å½“å‰æ‹¦æˆªåˆ°çš„ä¸æ˜¯åŠ¨æ€æ–¹æ³•ï¼Œç›´æ¥æ”¾è¡Œ
            return true;
        &#125;

        //1ã€ä»è¯·æ±‚å¤´ä¸­è·å–ä»¤ç‰Œ jwtProperties.getAdminTokenName()è·å–ä¸ºtoken
        String token = request.getHeader(jwtProperties.getAdminTokenName());

        //2ã€æ ¡éªŒä»¤ç‰Œ
        try &#123;
            log.info(&quot;jwtæ ¡éªŒ:&#123;&#125;&quot;, token);
            Claims claims = JwtUtil.parseJWT(jwtProperties.getAdminSecretKey(), token);
            Long empId = Long.valueOf(claims.get(JwtClaimsConstant.EMP_ID).toString());
            log.info(&quot;å½“å‰å‘˜å·¥idï¼š&quot;, empId);
            //3ã€é€šè¿‡ï¼Œæ”¾è¡Œ
            return true;
        &#125; catch (Exception ex) &#123;
            //4ã€ä¸é€šè¿‡ï¼Œå“åº”401çŠ¶æ€ç 
            response.setStatus(401);
            return false;
        &#125;
    &#125;
</code></pre>
<p><strong>æŠ¥é”™åŸå› ï¼š</strong>ç”±äºJWTä»¤ç‰Œæ ¡éªŒå¤±è´¥ï¼Œå¯¼è‡´EmployeeControllerçš„saveæ–¹æ³•æ²¡æœ‰è¢«è°ƒç”¨</p>
<p><strong>è§£å†³æ–¹æ³•ï¼š</strong>è°ƒç”¨å‘˜å·¥ç™»å½•æ¥å£è·å¾—ä¸€ä¸ªåˆæ³•çš„JWTä»¤ç‰Œ</p>
<p>ä½¿ç”¨adminç”¨æˆ·ç™»å½•è·å–ä»¤ç‰Œ</p>
<p><img src="/%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96day02/image-20221111185649636.png" alt="image-20221111185649636"></p>
<p><strong>æ·»åŠ ä»¤ç‰Œï¼š</strong></p>
<p>å°†åˆæ³•çš„JWTä»¤ç‰Œæ·»åŠ åˆ°å…¨å±€å‚æ•°ä¸­</p>
<p>æ–‡æ¡£ç®¡ç†â€“&gt;å…¨å±€å‚æ•°è®¾ç½®â€“&gt;æ·»åŠ å‚æ•°</p>
<p><img src="/%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96day02/image-20221111185901726.png" alt="image-20221111185901726"></p>
<p><img src="/%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96day02/Snipaste_2025-07-17_15-57-36.png" alt="Snipaste_2025-07-17_15-57-36"></p>
<p>æµ‹è¯•æˆåŠŸï¼ï¼</p>
<h4 id="1-3-2-å‰åç«¯è”è°ƒæµ‹è¯•"><a href="#1-3-2-å‰åç«¯è”è°ƒæµ‹è¯•" class="headerlink" title="1.3.2 å‰åç«¯è”è°ƒæµ‹è¯•"></a>1.3.2 å‰åç«¯è”è°ƒæµ‹è¯•</h4><p>å¯åŠ¨nginx,è®¿é—® <a target="_blank" rel="noopener" href="http://localhost:89/">http://localhost:89</a></p>
<p>ç™»å½•â€“&gt;å‘˜å·¥ç®¡ç†â€“&gt;æ·»åŠ å‘˜å·¥</p>
<p><img src="/%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96day02/Snipaste_2025-07-17_16-03-38.png" alt="Snipaste_2025-07-17_16-03-38"></p>
<p>æµ‹è¯•æˆåŠŸã€‚</p>
<p><strong>æ³¨æ„ï¼š</strong>ç”±äºå¼€å‘é˜¶æ®µå‰ç«¯å’Œåç«¯æ˜¯å¹¶è¡Œå¼€å‘çš„ï¼Œåç«¯å®ŒæˆæŸä¸ªåŠŸèƒ½åï¼Œæ­¤æ—¶å‰ç«¯å¯¹åº”çš„åŠŸèƒ½å¯èƒ½è¿˜æ²¡æœ‰å¼€å‘å®Œæˆï¼Œ<br>å¯¼è‡´æ— æ³•è¿›è¡Œå‰åç«¯è”è°ƒæµ‹è¯•ã€‚æ‰€ä»¥åœ¨å¼€å‘é˜¶æ®µï¼Œåç«¯æµ‹è¯•ä¸»è¦ä»¥æ¥å£æ–‡æ¡£æµ‹è¯•ä¸ºä¸»ã€‚</p>
<h3 id="1-4-ä»£ç å®Œå–„"><a href="#1-4-ä»£ç å®Œå–„" class="headerlink" title="1.4 ä»£ç å®Œå–„"></a>1.4 ä»£ç å®Œå–„</h3><p>ç›®å‰ï¼Œç¨‹åºå­˜åœ¨çš„é—®é¢˜ä¸»è¦æœ‰ä¸¤ä¸ªï¼š</p>
<ul>
<li>å½•å…¥çš„ç”¨æˆ·åå·²å­˜ï¼ŒæŠ›å‡ºçš„å¼‚å¸¸åæ²¡æœ‰å¤„ç†</li>
<li>æ–°å¢å‘˜å·¥æ—¶ï¼Œåˆ›å»ºäººidå’Œä¿®æ”¹äººidè®¾ç½®ä¸ºå›ºå®šå€¼</li>
</ul>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å¯¹ä¸Šè¿°ä¸¤ä¸ªé—®é¢˜ä¾æ¬¡è¿›è¡Œåˆ†æå’Œè§£å†³ã€‚</p>
<h4 id="1-4-1-é—®é¢˜ä¸€"><a href="#1-4-1-é—®é¢˜ä¸€" class="headerlink" title="1.4.1 é—®é¢˜ä¸€"></a>1.4.1 é—®é¢˜ä¸€</h4><p><strong>æè¿°ï¼š</strong>å½•å…¥çš„ç”¨æˆ·åå·²å­˜ï¼ŒæŠ›å‡ºçš„å¼‚å¸¸åæ²¡æœ‰å¤„ç†</p>
<p><strong>åˆ†æï¼š</strong></p>
<p>æ–°å¢username&#x3D;zhangsançš„ç”¨æˆ·ï¼Œè‹¥employeeè¡¨ä¸­ä¹‹å‰å·²å­˜åœ¨ã€‚</p>
<p>å‘ç°ï¼Œusernameå·²ç»æ·»åŠ äº†å”¯ä¸€çº¦æŸï¼Œä¸èƒ½é‡å¤ã€‚</p>
<p><strong>è§£å†³ï¼š</strong></p>
<p>é€šè¿‡å…¨å±€å¼‚å¸¸å¤„ç†å™¨æ¥å¤„ç†ã€‚</p>
<p>è¿›å…¥åˆ°sky-serveræ¨¡å—ï¼Œcom.sky.handeråŒ…ä¸‹ï¼ŒGlobalExceptionHandler.javaæ·»åŠ æ–¹æ³•</p>
<pre><code class="java">    /**
     * å¤„ç†SQLå¼‚å¸¸
     * @param ex
     * @return
     */
    @ExceptionHandler
    public Result exceptionHandler(SQLIntegrityConstraintViolationException ex)&#123;
        //Duplicate entry &#39;zhangsan&#39; for key &#39;employee.idx_username&#39;
        String message = ex.getMessage();
        if(message.contains(&quot;Duplicate entry&quot;))&#123;
            String[] split = message.split(&quot; &quot;);
            String username = split[2];
            String msg = username + MessageConstant.ALREADY_EXISTS;
            return Result.error(msg);
        &#125;else&#123;
            return Result.error(MessageConstant.UNKNOWN_ERROR);
        &#125;
    &#125;
</code></pre>
<p>è¿›å…¥åˆ°sky-commonæ¨¡å—ï¼Œåœ¨MessageConstant.javaæ·»åŠ </p>
<pre><code class="java">public static final String ALREADY_EXISTS = &quot;å·²å­˜åœ¨&quot;;
</code></pre>
<p>å†æ¬¡ï¼Œæ¥å£æµ‹è¯•ï¼š</p>
<p><img src="/%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96day02/Snipaste_2025-07-17_16-17-02.png" alt="Snipaste_2025-07-17_16-17-02"></p>
<h4 id="1-4-2-é—®é¢˜äºŒ"><a href="#1-4-2-é—®é¢˜äºŒ" class="headerlink" title="1.4.2 é—®é¢˜äºŒ"></a>1.4.2 é—®é¢˜äºŒ</h4><p><strong>æè¿°</strong>ï¼šæ–°å¢å‘˜å·¥æ—¶ï¼Œåˆ›å»ºäººidå’Œä¿®æ”¹äººidè®¾ç½®ä¸ºå›ºå®šå€¼</p>
<p><strong>åˆ†æï¼š</strong></p>
<pre><code class="java">    /**
     * æ–°å¢å‘˜å·¥
     *
     * @param employeeDTO
     */
    public void save(EmployeeDTO employeeDTO) &#123;
        Employee employee = new Employee();
        //................
        //////////å½“å‰è®¾ç½®çš„idä¸ºå›ºå®šå€¼10//////////
        employee.setCreateUser(10L);
        employee.setUpdateUser(10L);
        //////////////////////////////////////
        //.................................

        employeeMapper.insert(employee);//åç»­æ­¥éª¤å®šä¹‰
    &#125;
</code></pre>
<p><strong>è§£å†³ï¼š</strong></p>
<p>é€šè¿‡æŸç§æ–¹å¼åŠ¨æ€è·å–å½“å‰ç™»å½•å‘˜å·¥çš„idã€‚</p>
<p><img src="/%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96day02/image-20221111201922482.png" alt="image-20221111201922482"></p>
<p>å‘˜å·¥ç™»å½•æˆåŠŸåä¼šç”ŸæˆJWTä»¤ç‰Œå¹¶å“åº”ç»™å‰ç«¯ï¼š</p>
<p>åœ¨sky-serveræ¨¡å—</p>
<pre><code class="java">package com.sky.controller.admin;
/**
 * å‘˜å·¥ç®¡ç†
 */
@RestController
@RequestMapping(&quot;/admin/employee&quot;)
@Slf4j
@Api(tags = &quot;å‘˜å·¥ç›¸å…³æ¥å£&quot;)
public class EmployeeController &#123;

    @Autowired
    private EmployeeService employeeService;
    @Autowired
    private JwtProperties jwtProperties;

    /**
     * ç™»å½•
     *
     * @param employeeLoginDTO
     * @return
     */
    @PostMapping(&quot;/login&quot;)
    @ApiOperation(value = &quot;å‘˜å·¥ç™»å½•&quot;)
    public Result&lt;EmployeeLoginVO&gt; login(@RequestBody EmployeeLoginDTO employeeLoginDTO) &#123;
        //.........

        //ç™»å½•æˆåŠŸåï¼Œç”Ÿæˆjwtä»¤ç‰Œ
        Map&lt;String, Object&gt; claims = new HashMap&lt;&gt;();
        claims.put(JwtClaimsConstant.EMP_ID, employee.getId());
        String token = JwtUtil.createJWT(
                jwtProperties.getAdminSecretKey(),
                jwtProperties.getAdminTtl(),
                claims);

        //............

        return Result.success(employeeLoginVO);
    &#125;

&#125;
</code></pre>
<p>åç»­è¯·æ±‚ä¸­ï¼Œå‰ç«¯ä¼šæºå¸¦JWTä»¤ç‰Œï¼Œé€šè¿‡JWTä»¤ç‰Œå¯ä»¥è§£æå‡ºå½“å‰ç™»å½•å‘˜å·¥idï¼š</p>
<p>JwtTokenAdminInterceptor.java</p>
<pre><code class="java">package com.sky.interceptor;

/**
 * jwtä»¤ç‰Œæ ¡éªŒçš„æ‹¦æˆªå™¨
 */
@Component
@Slf4j
public class JwtTokenAdminInterceptor implements HandlerInterceptor &#123;

    @Autowired
    private JwtProperties jwtProperties;

    /**
     * æ ¡éªŒjwt
     *
     * @param request
     * @param response
     * @param handler
     * @return
     * @throws Exception
     */
    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception &#123;
       
        //..............
        
        //1ã€ä»è¯·æ±‚å¤´ä¸­è·å–ä»¤ç‰Œ
        String token = request.getHeader(jwtProperties.getAdminTokenName());

        //2ã€æ ¡éªŒä»¤ç‰Œ
        try &#123;
            log.info(&quot;jwtæ ¡éªŒ:&#123;&#125;&quot;, token);
            Claims claims = JwtUtil.parseJWT(jwtProperties.getAdminSecretKey(), token);
            Long empId = Long.valueOf(claims.get(JwtClaimsConstant.EMP_ID).toString());
            log.info(&quot;å½“å‰å‘˜å·¥idï¼š&quot;, empId);
            //3ã€é€šè¿‡ï¼Œæ”¾è¡Œ
            return true;
        &#125; catch (Exception ex) &#123;
            //4ã€ä¸é€šè¿‡ï¼Œå“åº”401çŠ¶æ€ç 
            response.setStatus(401);
            return false;
        &#125;
    &#125;
&#125;
</code></pre>
<p><strong>æ€è€ƒï¼š</strong>è§£æå‡ºç™»å½•å‘˜å·¥idåï¼Œå¦‚ä½•ä¼ é€’ç»™Serviceçš„saveæ–¹æ³•ï¼Ÿ</p>
<p>é€šè¿‡ThreadLocalè¿›è¡Œä¼ é€’ã€‚</p>
<h4 id="1-4-3-ThreadLocal"><a href="#1-4-3-ThreadLocal" class="headerlink" title="1.4.3 ThreadLocal"></a>1.4.3 ThreadLocal</h4><p><strong>ä»‹ç»ï¼š</strong></p>
<p>ThreadLocal å¹¶ä¸æ˜¯ä¸€ä¸ªThreadï¼Œè€Œæ˜¯Threadçš„å±€éƒ¨å˜é‡ã€‚<br>ThreadLocalä¸ºæ¯ä¸ªçº¿ç¨‹æä¾›å•ç‹¬ä¸€ä»½å­˜å‚¨ç©ºé—´ï¼Œå…·æœ‰çº¿ç¨‹éš”ç¦»çš„æ•ˆæœï¼Œåªæœ‰åœ¨çº¿ç¨‹å†…æ‰èƒ½è·å–åˆ°å¯¹åº”çš„å€¼ï¼Œçº¿ç¨‹å¤–åˆ™ä¸èƒ½è®¿é—®ã€‚</p>
<p><strong>å¸¸ç”¨æ–¹æ³•ï¼š</strong></p>
<ul>
<li>public void set(T value) 	è®¾ç½®å½“å‰çº¿ç¨‹çš„çº¿ç¨‹å±€éƒ¨å˜é‡çš„å€¼</li>
<li>public T get() 		è¿”å›å½“å‰çº¿ç¨‹æ‰€å¯¹åº”çš„çº¿ç¨‹å±€éƒ¨å˜é‡çš„å€¼</li>
<li>public void remove()        ç§»é™¤å½“å‰çº¿ç¨‹çš„çº¿ç¨‹å±€éƒ¨å˜é‡</li>
</ul>
<p>å¯¹ThreadLocalæœ‰äº†ä¸€å®šè®¤è¯†åï¼Œæ¥ä¸‹æ¥ç»§ç»­è§£å†³<strong>é—®é¢˜äºŒ</strong></p>
<p><img src="/%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96day02/image-20221111212349365.png" alt="image-20221111212349365"></p>
<p>åˆå§‹å·¥ç¨‹ä¸­å·²ç»å°è£…äº† ThreadLocal æ“ä½œçš„å·¥å…·ç±»ï¼š</p>
<p>åœ¨sky-commonæ¨¡å—</p>
<pre><code class="java">package com.sky.context;

public class BaseContext &#123;

    public static ThreadLocal&lt;Long&gt; threadLocal = new ThreadLocal&lt;&gt;();

    public static void setCurrentId(Long id) &#123;
        threadLocal.set(id);
    &#125;

    public static Long getCurrentId() &#123;
        return threadLocal.get();
    &#125;

    public static void removeCurrentId() &#123;
        threadLocal.remove();
    &#125;

&#125;
</code></pre>
<p>åœ¨æ‹¦æˆªå™¨ä¸­è§£æå‡ºå½“å‰ç™»å½•å‘˜å·¥idï¼Œå¹¶æ”¾å…¥çº¿ç¨‹å±€éƒ¨å˜é‡ä¸­ï¼š</p>
<p>åœ¨sky-serveræ¨¡å—ä¸­ï¼Œæ‹¦æˆªå™¨ï¼š</p>
<pre><code class="java">package com.sky.interceptor;

/**
 * jwtä»¤ç‰Œæ ¡éªŒçš„æ‹¦æˆªå™¨
 */
@Component
@Slf4j
public class JwtTokenAdminInterceptor implements HandlerInterceptor &#123;

    @Autowired
    private JwtProperties jwtProperties;

    /**
     * æ ¡éªŒjwt
     *
     * @param request
     * @param response
     * @param handler
     * @return
     * @throws Exception
     */
    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception &#123;
        
        //.............................
       
        //2ã€æ ¡éªŒä»¤ç‰Œ
        try &#123;
            //.................
            Claims claims = JwtUtil.parseJWT(jwtProperties.getAdminSecretKey(), token);
            Long empId = Long.valueOf(claims.get(JwtClaimsConstant.EMP_ID).toString());
            log.info(&quot;å½“å‰å‘˜å·¥idï¼š&quot;, empId);
            /////å°†ç”¨æˆ·idå­˜å‚¨åˆ°ThreadLocal////////
            BaseContext.setCurrentId(empId);
            ////////////////////////////////////
            //3ã€é€šè¿‡ï¼Œæ”¾è¡Œ
            return true;
        &#125; catch (Exception ex) &#123;
            //......................
        &#125;
    &#125;
&#125;
</code></pre>
<p>åœ¨Serviceä¸­è·å–çº¿ç¨‹å±€éƒ¨å˜é‡ä¸­çš„å€¼ï¼š</p>
<pre><code class="java">/**
     * æ–°å¢å‘˜å·¥
     *
     * @param employeeDTO
     */
    public void save(EmployeeDTO employeeDTO) &#123;
        //.............................

        //è®¾ç½®å½“å‰è®°å½•åˆ›å»ºäººidå’Œä¿®æ”¹äººid
        employee.setCreateUser(BaseContext.getCurrentId());//ç›®å‰å†™ä¸ªå‡æ•°æ®ï¼ŒåæœŸä¿®æ”¹
        employee.setUpdateUser(BaseContext.getCurrentId());

        employeeMapper.insert(employee);
    &#125;
</code></pre>
<p>æµ‹è¯•ï¼šä½¿ç”¨admin(id&#x3D;1)ç”¨æˆ·ç™»å½•åæ·»åŠ ä¸€æ¡è®°å½•</p>
<p><img src="/%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96day02/Snipaste_2025-07-17_16-43-42.png" alt="Snipaste_2025-07-17_16-43-42"></p>
<h2 id="1-5-ä»£ç æäº¤"><a href="#1-5-ä»£ç æäº¤" class="headerlink" title="1.5 ä»£ç æäº¤"></a>1.5 ä»£ç æäº¤</h2><h2 id="2-å‘˜å·¥åˆ†é¡µæŸ¥è¯¢"><a href="#2-å‘˜å·¥åˆ†é¡µæŸ¥è¯¢" class="headerlink" title="2. å‘˜å·¥åˆ†é¡µæŸ¥è¯¢"></a>2. å‘˜å·¥åˆ†é¡µæŸ¥è¯¢</h2><h3 id="2-1-éœ€æ±‚åˆ†æå’Œè®¾è®¡"><a href="#2-1-éœ€æ±‚åˆ†æå’Œè®¾è®¡" class="headerlink" title="2.1 éœ€æ±‚åˆ†æå’Œè®¾è®¡"></a>2.1 éœ€æ±‚åˆ†æå’Œè®¾è®¡</h3><h4 id="2-1-1-äº§å“åŸå‹"><a href="#2-1-1-äº§å“åŸå‹" class="headerlink" title="2.1.1 äº§å“åŸå‹"></a>2.1.1 äº§å“åŸå‹</h4><p>ç³»ç»Ÿä¸­çš„å‘˜å·¥å¾ˆå¤šçš„æ—¶å€™ï¼Œå¦‚æœåœ¨ä¸€ä¸ªé¡µé¢ä¸­å…¨éƒ¨å±•ç¤ºå‡ºæ¥ä¼šæ˜¾å¾—æ¯”è¾ƒä¹±ï¼Œä¸ä¾¿äºæŸ¥çœ‹ï¼Œæ‰€ä»¥ä¸€èˆ¬çš„ç³»ç»Ÿä¸­éƒ½ä¼šä»¥åˆ†é¡µçš„æ–¹å¼æ¥å±•ç¤ºåˆ—è¡¨æ•°æ®ã€‚è€Œåœ¨æˆ‘ä»¬çš„åˆ†é¡µæŸ¥è¯¢é¡µé¢ä¸­, é™¤äº†åˆ†é¡µæ¡ä»¶ä»¥å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªæŸ¥è¯¢æ¡ä»¶ â€œå‘˜å·¥å§“åâ€ã€‚</p>
<p><strong>æŸ¥è¯¢å‘˜å·¥åŸå‹ï¼š</strong></p>
<p><img src="/%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96day02/image-20221111215309289.png" alt="image-20221111215309289"></p>
<p><strong>ä¸šåŠ¡è§„åˆ™</strong>ï¼š</p>
<ul>
<li>æ ¹æ®é¡µç å±•ç¤ºå‘˜å·¥ä¿¡æ¯</li>
<li>æ¯é¡µå±•ç¤º10æ¡æ•°æ®</li>
<li>åˆ†é¡µæŸ¥è¯¢æ—¶å¯ä»¥æ ¹æ®éœ€è¦ï¼Œè¾“å…¥å‘˜å·¥å§“åè¿›è¡ŒæŸ¥è¯¢</li>
</ul>
<h4 id="2-1-2-æ¥å£è®¾è®¡"><a href="#2-1-2-æ¥å£è®¾è®¡" class="headerlink" title="2.1.2 æ¥å£è®¾è®¡"></a>2.1.2 æ¥å£è®¾è®¡</h4><p><img src="è‹ç©¹å¤–å–day02/image-20221111220031113.png" alt="image-20221111220031113" style="zoom:67%;" /><img src="è‹ç©¹å¤–å–day02/image-20221111220041965.png" alt="image-20221111220041965" style="zoom:67%;" /></p>
<p><strong>æ³¨æ„äº‹é¡¹ï¼š</strong></p>
<ul>
<li>è¯·æ±‚å‚æ•°ç±»å‹ä¸ºQueryï¼Œä¸æ˜¯jsonæ ¼å¼æäº¤ï¼Œåœ¨è·¯å¾„åç›´æ¥æ‹¼æ¥ã€‚&#x2F;admin&#x2F;employee&#x2F;page?name&#x3D;zhangsan</li>
<li>è¿”å›æ•°æ®ä¸­recordsæ•°ç»„ä¸­ä½¿ç”¨Employeeå®ä½“ç±»å¯¹å±æ€§è¿›è¡Œå°è£…ã€‚</li>
</ul>
<h3 id="2-2-ä»£ç å¼€å‘"><a href="#2-2-ä»£ç å¼€å‘" class="headerlink" title="2.2 ä»£ç å¼€å‘"></a>2.2 ä»£ç å¼€å‘</h3><h4 id="2-2-1-è®¾è®¡DTOç±»"><a href="#2-2-1-è®¾è®¡DTOç±»" class="headerlink" title="2.2.1 è®¾è®¡DTOç±»"></a>2.2.1 è®¾è®¡DTOç±»</h4><p>æ ¹æ®è¯·æ±‚å‚æ•°è¿›è¡Œå°è£…ï¼Œåœ¨sky-pojoæ¨¡å—ä¸­</p>
<pre><code class="java">package com.sky.dto;

import lombok.Data;

import java.io.Serializable;

@Data
public class EmployeePageQueryDTO implements Serializable &#123;

    //å‘˜å·¥å§“å
    private String name;

    //é¡µç 
    private int page;

    //æ¯é¡µæ˜¾ç¤ºè®°å½•æ•°
    private int pageSize;

&#125;
</code></pre>
<h4 id="2-2-2-å°è£…PageResult"><a href="#2-2-2-å°è£…PageResult" class="headerlink" title="2.2.2 å°è£…PageResult"></a>2.2.2 å°è£…PageResult</h4><p>åé¢æ‰€æœ‰çš„åˆ†é¡µæŸ¥è¯¢ï¼Œç»Ÿä¸€éƒ½å°è£…ä¸ºPageResultå¯¹è±¡ã€‚</p>
<p>åœ¨sky-commonæ¨¡å—</p>
<pre><code class="java">package com.sky.result;

import lombok.AllArgsConstructor;
import lombok.Data;
import lombok.NoArgsConstructor;

import java.io.Serializable;
import java.util.List;

/**
 * å°è£…åˆ†é¡µæŸ¥è¯¢ç»“æœ
 */
@Data
@AllArgsConstructor
@NoArgsConstructor
public class PageResult implements Serializable &#123;

    private long total; //æ€»è®°å½•æ•°

    private List records; //å½“å‰é¡µæ•°æ®é›†åˆ

&#125;
</code></pre>
<p>å‘˜å·¥ä¿¡æ¯åˆ†é¡µæŸ¥è¯¢åç«¯è¿”å›çš„å¯¹è±¡ç±»å‹ä¸º: Result<PageResult></p>
<pre><code class="java">package com.sky.result;

import lombok.Data;

import java.io.Serializable;

/**
 * åç«¯ç»Ÿä¸€è¿”å›ç»“æœ
 * @param &lt;T&gt;
 */
@Data
public class Result&lt;T&gt; implements Serializable &#123;

    private Integer code; //ç¼–ç ï¼š1æˆåŠŸï¼Œ0å’Œå…¶å®ƒæ•°å­—ä¸ºå¤±è´¥
    private String msg; //é”™è¯¯ä¿¡æ¯
    private T data; //æ•°æ®

    public static &lt;T&gt; Result&lt;T&gt; success() &#123;
        Result&lt;T&gt; result = new Result&lt;T&gt;();
        result.code = 1;
        return result;
    &#125;

    public static &lt;T&gt; Result&lt;T&gt; success(T object) &#123;
        Result&lt;T&gt; result = new Result&lt;T&gt;();
        result.data = object;
        result.code = 1;
        return result;
    &#125;

    public static &lt;T&gt; Result&lt;T&gt; error(String msg) &#123;
        Result result = new Result();
        result.msg = msg;
        result.code = 0;
        return result;
    &#125;

&#125;
</code></pre>
<h4 id="2-2-3-Controllerå±‚"><a href="#2-2-3-Controllerå±‚" class="headerlink" title="2.2.3 Controllerå±‚"></a>2.2.3 Controllerå±‚</h4><p>åœ¨sky-serveræ¨¡å—ä¸­ï¼Œcom.sky.controller.admin.EmployeeControllerä¸­æ·»åŠ åˆ†é¡µæŸ¥è¯¢æ–¹æ³•ã€‚</p>
<pre><code class="java">    /**
     * å‘˜å·¥åˆ†é¡µæŸ¥è¯¢
     * @param employeePageQueryDTO
     * @return
     */
    @GetMapping(&quot;/page&quot;)
    @ApiOperation(&quot;å‘˜å·¥åˆ†é¡µæŸ¥è¯¢&quot;)
    public Result&lt;PageResult&gt; page(EmployeePageQueryDTO employeePageQueryDTO)&#123;
        log.info(&quot;å‘˜å·¥åˆ†é¡µæŸ¥è¯¢ï¼Œå‚æ•°ä¸ºï¼š&#123;&#125;&quot;, employeePageQueryDTO);
        PageResult pageResult = employeeService.pageQuery(employeePageQueryDTO);//åç»­å®šä¹‰
        return Result.success(pageResult);
    &#125;
</code></pre>
<h4 id="2-2-4-Serviceå±‚æ¥å£"><a href="#2-2-4-Serviceå±‚æ¥å£" class="headerlink" title="2.2.4 Serviceå±‚æ¥å£"></a>2.2.4 Serviceå±‚æ¥å£</h4><p>åœ¨EmployeeServiceæ¥å£ä¸­å£°æ˜pageQueryæ–¹æ³•ï¼š</p>
<pre><code class="java">    /**
     * åˆ†é¡µæŸ¥è¯¢
     * @param employeePageQueryDTO
     * @return
     */
    PageResult pageQuery(EmployeePageQueryDTO employeePageQueryDTO);
</code></pre>
<h4 id="2-2-5-Serviceå±‚å®ç°ç±»"><a href="#2-2-5-Serviceå±‚å®ç°ç±»" class="headerlink" title="2.2.5 Serviceå±‚å®ç°ç±»"></a>2.2.5 Serviceå±‚å®ç°ç±»</h4><p>åœ¨EmployeeServiceImplä¸­å®ç°pageQueryæ–¹æ³•ï¼š</p>
<pre><code class="java">    /**
     * åˆ†é¡µæŸ¥è¯¢
     *
     * @param employeePageQueryDTO
     * @return
     */
    public PageResult pageQuery(EmployeePageQueryDTO employeePageQueryDTO) &#123;
        // select * from employee limit 0,10
        //å¼€å§‹åˆ†é¡µæŸ¥è¯¢
        PageHelper.startPage(employeePageQueryDTO.getPage(), employeePageQueryDTO.getPageSize());

        Page&lt;Employee&gt; page = employeeMapper.pageQuery(employeePageQueryDTO);//åç»­å®šä¹‰

        long total = page.getTotal();
        List&lt;Employee&gt; records = page.getResult();

        return new PageResult(total, records);
    &#125;
</code></pre>
<p><code>PageHelper</code> æ˜¯ MyBatis çš„åˆ†é¡µæ’ä»¶ï¼Œå®ƒçš„åº•å±‚å®ç°æ ¸å¿ƒåŸç†æ˜¯ï¼š</p>
<hr>
<h3 id="âœ…-åŸºäº-MyBatis-æ‹¦æˆªå™¨æœºåˆ¶ï¼Œåœ¨-SQL-æ‰§è¡Œå‰è‡ªåŠ¨ä¿®æ”¹åŸ-SQLï¼ŒåŠ ä¸Šåˆ†é¡µè¯­å¥"><a href="#âœ…-åŸºäº-MyBatis-æ‹¦æˆªå™¨æœºåˆ¶ï¼Œåœ¨-SQL-æ‰§è¡Œå‰è‡ªåŠ¨ä¿®æ”¹åŸ-SQLï¼ŒåŠ ä¸Šåˆ†é¡µè¯­å¥" class="headerlink" title="âœ… åŸºäº MyBatis æ‹¦æˆªå™¨æœºåˆ¶ï¼Œåœ¨ SQL æ‰§è¡Œå‰è‡ªåŠ¨ä¿®æ”¹åŸ SQLï¼ŒåŠ ä¸Šåˆ†é¡µè¯­å¥"></a>âœ… <strong>åŸºäº MyBatis æ‹¦æˆªå™¨æœºåˆ¶ï¼Œåœ¨ SQL æ‰§è¡Œå‰è‡ªåŠ¨ä¿®æ”¹åŸ SQLï¼ŒåŠ ä¸Šåˆ†é¡µè¯­å¥</strong></h3><hr>
<h3 id="ğŸ”-å…·ä½“å·¥ä½œæœºåˆ¶å¦‚ä¸‹ï¼š"><a href="#ğŸ”-å…·ä½“å·¥ä½œæœºåˆ¶å¦‚ä¸‹ï¼š" class="headerlink" title="ğŸ” å…·ä½“å·¥ä½œæœºåˆ¶å¦‚ä¸‹ï¼š"></a>ğŸ” å…·ä½“å·¥ä½œæœºåˆ¶å¦‚ä¸‹ï¼š</h3><h4 id="1-PageHelper-startPage-pageNum-pageSize-è¢«è°ƒç”¨æ—¶ï¼š"><a href="#1-PageHelper-startPage-pageNum-pageSize-è¢«è°ƒç”¨æ—¶ï¼š" class="headerlink" title="1. PageHelper.startPage(pageNum, pageSize) è¢«è°ƒç”¨æ—¶ï¼š"></a>1. <code>PageHelper.startPage(pageNum, pageSize)</code> è¢«è°ƒç”¨æ—¶ï¼š</h4><ul>
<li>å®ƒä¼šåœ¨å½“å‰çº¿ç¨‹ï¼ˆ<code>ThreadLocal</code>ï¼‰ä¸­ä¿å­˜åˆ†é¡µå‚æ•°ã€‚</li>
<li>ä¾‹å¦‚ä¿å­˜æˆï¼š<code>&#123;pageNum: 1, pageSize: 10&#125;</code>ã€‚</li>
</ul>
<h4 id="2-å½“-MyBatis-æ‰§è¡ŒæŸ¥è¯¢-SQL-æ—¶ï¼ˆå¦‚-employeeMapper-pageQuery-ï¼‰ï¼š"><a href="#2-å½“-MyBatis-æ‰§è¡ŒæŸ¥è¯¢-SQL-æ—¶ï¼ˆå¦‚-employeeMapper-pageQuery-ï¼‰ï¼š" class="headerlink" title="2. å½“ MyBatis æ‰§è¡ŒæŸ¥è¯¢ SQL æ—¶ï¼ˆå¦‚ employeeMapper.pageQuery()ï¼‰ï¼š"></a>2. å½“ MyBatis æ‰§è¡ŒæŸ¥è¯¢ SQL æ—¶ï¼ˆå¦‚ <code>employeeMapper.pageQuery()</code>ï¼‰ï¼š</h4><ul>
<li><code>PageHelper</code> æ³¨å†Œçš„æ‹¦æˆªå™¨ï¼ˆæ‹¦æˆªçš„æ˜¯ <code>Executor.query(...)</code> æ–¹æ³•ï¼‰ä¼šè¢«è§¦å‘ã€‚</li>
<li>åœ¨è¿™ä¸ªæ‹¦æˆªå™¨ä¸­ï¼ŒPageHelper ä¼šï¼š<ul>
<li>æ£€æµ‹æ˜¯å¦è°ƒç”¨è¿‡ <code>startPage()</code>ï¼ˆåˆ¤æ–­ <code>ThreadLocal</code> ä¸­æ˜¯å¦æœ‰åˆ†é¡µå‚æ•°ï¼‰ã€‚</li>
<li>å¦‚æœæœ‰ï¼Œå°±è‡ªåŠ¨ <strong>ä¿®æ”¹ SQL è¯­å¥</strong>ï¼Œæ‹¼æ¥åˆ†é¡µè¯­æ³•ã€‚</li>
</ul>
</li>
</ul>
<hr>
<h3 id="ğŸ§ -ä¾‹å­ï¼š"><a href="#ğŸ§ -ä¾‹å­ï¼š" class="headerlink" title="ğŸ§  ä¾‹å­ï¼š"></a>ğŸ§  ä¾‹å­ï¼š</h3><p>åŸå§‹ SQLï¼š</p>
<pre><code>sql


å¤åˆ¶ç¼–è¾‘
SELECT * FROM employee
</code></pre>
<p>åˆ†é¡µåå®é™…æ‰§è¡Œçš„ SQLï¼ˆMySQLï¼‰ï¼š</p>
<pre><code>sql


å¤åˆ¶ç¼–è¾‘
SELECT * FROM employee LIMIT 0, 10
</code></pre>
<p>å¦‚æœä½ ä¼ çš„æ˜¯ <code>page=2, pageSize=10</code>ï¼Œå®ƒä¼šç”Ÿæˆï¼š</p>
<pre><code>sql


å¤åˆ¶ç¼–è¾‘
SELECT * FROM employee LIMIT 10, 10
</code></pre>
<hr>
<h3 id="âœ…-æ€»ç»“ä¸€å¥è¯ï¼š"><a href="#âœ…-æ€»ç»“ä¸€å¥è¯ï¼š" class="headerlink" title="âœ… æ€»ç»“ä¸€å¥è¯ï¼š"></a>âœ… æ€»ç»“ä¸€å¥è¯ï¼š</h3><p><code>PageHelper</code> æ˜¯é€šè¿‡ <strong>æ‹¦æˆª MyBatis æŸ¥è¯¢è¯­å¥å¹¶åŠ¨æ€æ‹¼æ¥ <code>LIMIT</code> è¯­å¥</strong> å®ç°åˆ†é¡µçš„ï¼Œæœ¬è´¨æ˜¯ <strong>åœ¨æ‰§è¡Œ SQL å‰ä¿®æ”¹åŸå§‹ SQL</strong> æ¥å®ç°æ•°æ®åº“çº§åˆ†é¡µã€‚</p>
<p><strong>æ³¨æ„ï¼š</strong>æ­¤å¤„ä½¿ç”¨ mybatis çš„åˆ†é¡µæ’ä»¶ PageHelper æ¥ç®€åŒ–åˆ†é¡µä»£ç çš„å¼€å‘ã€‚åº•å±‚åŸºäº mybatis çš„æ‹¦æˆªå™¨å®ç°ã€‚</p>
<p>æ•…åœ¨pom.xmlæ–‡ä¸­æ·»åŠ ä¾èµ–(åˆå§‹å·¥ç¨‹å·²æ·»åŠ )</p>
<pre><code class="xml">&lt;dependency&gt;
   &lt;groupId&gt;com.github.pagehelper&lt;/groupId&gt;
   &lt;artifactId&gt;pagehelper-spring-boot-starter&lt;/artifactId&gt;
   &lt;version&gt;$&#123;pagehelper&#125;&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
<h4 id="2-2-6-Mapperå±‚"><a href="#2-2-6-Mapperå±‚" class="headerlink" title="2.2.6 Mapperå±‚"></a>2.2.6 Mapperå±‚</h4><p>åœ¨ EmployeeMapper ä¸­å£°æ˜ pageQuery æ–¹æ³•ï¼š</p>
<pre><code class="java">    /**
     * åˆ†é¡µæŸ¥è¯¢
     * @param employeePageQueryDTO
     * @return
     */
    Page&lt;Employee&gt; pageQuery(EmployeePageQueryDTO employeePageQueryDTO);
</code></pre>
<p>åœ¨ src&#x2F;main&#x2F;resources&#x2F;mapper&#x2F;EmployeeMapper.xml ä¸­ç¼–å†™SQLï¼š</p>
<pre><code class="sql">&lt;select id=&quot;pageQuery&quot; resultType=&quot;com.sky.entity.Employee&quot;&gt;
        select * from employee
        &lt;where&gt;
            &lt;if test=&quot;name != null and name != &#39;&#39;&quot;&gt;
                and name like concat(&#39;%&#39;,#&#123;name&#125;,&#39;%&#39;)
            &lt;/if&gt;
        &lt;/where&gt;
        order by create_time desc
    &lt;/select&gt;
</code></pre>
<p><strong>è¿™æ®µå…¶å®è¿”å›çš„æ˜¯ <code>List&lt;Employee&gt;</code>ï¼Œä½†ç”¨ PageHelper åŒ…äº†ä¸€å±‚åï¼Œå˜æˆäº† <code>Page&lt;Employee&gt;</code>ã€‚</strong></p>
<h3 id="2-3-åŠŸèƒ½æµ‹è¯•"><a href="#2-3-åŠŸèƒ½æµ‹è¯•" class="headerlink" title="2.3 åŠŸèƒ½æµ‹è¯•"></a>2.3 åŠŸèƒ½æµ‹è¯•</h3><p>å¯ä»¥é€šè¿‡æ¥å£æ–‡æ¡£è¿›è¡Œæµ‹è¯•ï¼Œä¹Ÿå¯ä»¥è¿›è¡Œå‰åç«¯è”è°ƒæµ‹è¯•ã€‚</p>
<p>æ¥ä¸‹æ¥ä½¿ç”¨ä¸¤ç§æ–¹å¼åˆ†åˆ«æµ‹è¯•ï¼š</p>
<h4 id="2-3-1-æ¥å£æ–‡æ¡£æµ‹è¯•"><a href="#2-3-1-æ¥å£æ–‡æ¡£æµ‹è¯•" class="headerlink" title="2.3.1 æ¥å£æ–‡æ¡£æµ‹è¯•"></a>2.3.1 æ¥å£æ–‡æ¡£æµ‹è¯•</h4><p><strong>é‡å¯æœåŠ¡ï¼š</strong>è®¿é—®<a target="_blank" rel="noopener" href="http://localhost:8080/doc.html%EF%BC%8C%E8%BF%9B%E5%85%A5%E5%91%98%E5%B7%A5%E5%88%86%E9%A1%B5%E6%9F%A5%E8%AF%A2">http://localhost:8080/doc.htmlï¼Œè¿›å…¥å‘˜å·¥åˆ†é¡µæŸ¥è¯¢</a></p>
<p><img src="/%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96day02/image-20221112101946022.png" alt="image-20221112101946022"></p>
<p><img src="/%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96day02/image-20221112102441810.png" alt="image-20221112102441810"></p>
<p><img src="/%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96day02/image-20221112102540938.png" alt="image-20221112102540938"></p>
<p>ä¸éš¾å‘ç°ï¼Œ<strong>æœ€åæ“ä½œæ—¶é—´æ ¼å¼</strong>ä¸æ¸…æ™°ï¼Œåœ¨<strong>ä»£ç å®Œå–„</strong>ä¸­è§£å†³ã€‚</p>
<p><img src="/%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96day02/image-20221112102745437.png" alt="image-20221112102745437"></p>
<h3 id="2-4-ä»£ç å®Œå–„"><a href="#2-4-ä»£ç å®Œå–„" class="headerlink" title="2.4 ä»£ç å®Œå–„"></a>2.4 ä»£ç å®Œå–„</h3><p><strong>é—®é¢˜æè¿°ï¼š</strong>æ“ä½œæ—¶é—´å­—æ®µæ˜¾ç¤ºæœ‰é—®é¢˜ã€‚</p>
<p><strong>è§£å†³æ–¹å¼ï¼š</strong></p>
<p><strong>1).  æ–¹å¼ä¸€</strong></p>
<p>åœ¨å±æ€§ä¸ŠåŠ ä¸Šæ³¨è§£ï¼Œå¯¹æ—¥æœŸè¿›è¡Œæ ¼å¼åŒ–</p>
<p><img src="/%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96day02/image-20221112103501581.png" alt="image-20221112103501581"></p>
<p><strong>2).  æ–¹å¼äºŒï¼ˆæ¨è )</strong></p>
<p>åœ¨WebMvcConfigurationä¸­æ‰©å±•SpringMVCçš„æ¶ˆæ¯è½¬æ¢å™¨ï¼Œç»Ÿä¸€å¯¹æ—¥æœŸç±»å‹è¿›è¡Œæ ¼å¼å¤„ç†</p>
<pre><code class="java">    /**
     * æ‰©å±•Spring MVCæ¡†æ¶çš„æ¶ˆæ¯è½¬åŒ–å™¨
     * @param converters
     */
    protected void extendMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) &#123;
        log.info(&quot;æ‰©å±•æ¶ˆæ¯è½¬æ¢å™¨...&quot;);
        //åˆ›å»ºä¸€ä¸ªæ¶ˆæ¯è½¬æ¢å™¨å¯¹è±¡
        MappingJackson2HttpMessageConverter converter = new MappingJackson2HttpMessageConverter();
        //éœ€è¦ä¸ºæ¶ˆæ¯è½¬æ¢å™¨è®¾ç½®ä¸€ä¸ªå¯¹è±¡è½¬æ¢å™¨ï¼Œå¯¹è±¡è½¬æ¢å™¨å¯ä»¥å°†Javaå¯¹è±¡åºåˆ—åŒ–ä¸ºjsonæ•°æ®
        converter.setObjectMapper(new JacksonObjectMapper());
        //å°†è‡ªå·±çš„æ¶ˆæ¯è½¬åŒ–å™¨åŠ å…¥å®¹å™¨ä¸­
        converters.add(0,converter);
    &#125;
</code></pre>
<p>æ·»åŠ åï¼Œå†æ¬¡æµ‹è¯•</p>
<p><img src="/%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96day02/image-20221112104305608.png" alt="image-20221112104305608"></p>
<p>æ—¶é—´æ ¼å¼å®šä¹‰ï¼Œsky-commonæ¨¡å—ä¸­</p>
<pre><code class="java">package com.sky.json;

public class JacksonObjectMapper extends ObjectMapper &#123;

    //.......
    public static final String DEFAULT_DATE_TIME_FORMAT = &quot;yyyy-MM-dd HH:mm&quot;;
    //.......

    &#125;
&#125;
</code></pre>
<h3 id="2-5-ä»£ç æäº¤"><a href="#2-5-ä»£ç æäº¤" class="headerlink" title="2.5 ä»£ç æäº¤"></a>2.5 ä»£ç æäº¤</h3><h2 id="3-å¯ç”¨ç¦ç”¨å‘˜å·¥è´¦å·"><a href="#3-å¯ç”¨ç¦ç”¨å‘˜å·¥è´¦å·" class="headerlink" title="3. å¯ç”¨ç¦ç”¨å‘˜å·¥è´¦å·"></a>3. å¯ç”¨ç¦ç”¨å‘˜å·¥è´¦å·</h2><h3 id="3-1-éœ€æ±‚åˆ†æä¸è®¾è®¡"><a href="#3-1-éœ€æ±‚åˆ†æä¸è®¾è®¡" class="headerlink" title="3.1 éœ€æ±‚åˆ†æä¸è®¾è®¡"></a>3.1 éœ€æ±‚åˆ†æä¸è®¾è®¡</h3><h4 id="3-1-1-äº§å“åŸå‹"><a href="#3-1-1-äº§å“åŸå‹" class="headerlink" title="3.1.1 äº§å“åŸå‹"></a>3.1.1 äº§å“åŸå‹</h4><p>åœ¨å‘˜å·¥ç®¡ç†åˆ—è¡¨é¡µé¢ï¼Œå¯ä»¥å¯¹æŸä¸ªå‘˜å·¥è´¦å·è¿›è¡Œå¯ç”¨æˆ–è€…ç¦ç”¨æ“ä½œã€‚è´¦å·ç¦ç”¨çš„å‘˜å·¥ä¸èƒ½ç™»å½•ç³»ç»Ÿï¼Œå¯ç”¨åçš„å‘˜å·¥å¯ä»¥æ­£å¸¸ç™»å½•ã€‚å¦‚æœæŸä¸ªå‘˜å·¥è´¦å·çŠ¶æ€ä¸ºæ­£å¸¸ï¼Œåˆ™æŒ‰é’®æ˜¾ç¤ºä¸º â€œç¦ç”¨â€ï¼Œå¦‚æœå‘˜å·¥è´¦å·çŠ¶æ€ä¸ºå·²ç¦ç”¨ï¼Œåˆ™æŒ‰é’®æ˜¾ç¤ºä¸ºâ€å¯ç”¨â€ã€‚</p>
<p><strong>å¯ç¦ç”¨å‘˜å·¥åŸå‹ï¼š</strong></p>
<p><img src="/%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96day02/image-20221112112359233.png" alt="image-20221112112359233"></p>
<p><strong>ä¸šåŠ¡è§„åˆ™ï¼š</strong></p>
<ul>
<li>å¯ä»¥å¯¹çŠ¶æ€ä¸ºâ€œå¯ç”¨â€ çš„å‘˜å·¥è´¦å·è¿›è¡Œâ€œç¦ç”¨â€æ“ä½œ</li>
<li>å¯ä»¥å¯¹çŠ¶æ€ä¸ºâ€œç¦ç”¨â€çš„å‘˜å·¥è´¦å·è¿›è¡Œâ€œå¯ç”¨â€æ“ä½œ</li>
<li>çŠ¶æ€ä¸ºâ€œç¦ç”¨â€çš„å‘˜å·¥è´¦å·ä¸èƒ½ç™»å½•ç³»ç»Ÿ</li>
</ul>
<h4 id="3-1-2-æ¥å£è®¾è®¡"><a href="#3-1-2-æ¥å£è®¾è®¡" class="headerlink" title="3.1.2 æ¥å£è®¾è®¡"></a>3.1.2 æ¥å£è®¾è®¡</h4><p><img src="è‹ç©¹å¤–å–day02/image-20221112112728333.png" alt="image-20221112112728333" style="zoom:50%;" /><img src="è‹ç©¹å¤–å–day02/image-20221112112739680.png" alt="image-20221112112739680" style="zoom:50%;" /></p>
<p>1). è·¯å¾„å‚æ•°æºå¸¦çŠ¶æ€å€¼ã€‚</p>
<p>2). åŒæ—¶ï¼ŒæŠŠidä¼ é€’è¿‡å»ï¼Œæ˜ç¡®å¯¹å“ªä¸ªç”¨æˆ·è¿›è¡Œæ“ä½œã€‚</p>
<p>3). è¿”å›æ•°æ®codeçŠ¶æ€æ˜¯å¿…é¡»ï¼Œå…¶å®ƒæ˜¯éå¿…é¡»ã€‚</p>
<h3 id="3-2-ä»£ç å¼€å‘"><a href="#3-2-ä»£ç å¼€å‘" class="headerlink" title="3.2 ä»£ç å¼€å‘"></a>3.2 ä»£ç å¼€å‘</h3><h4 id="3-2-1-Controllerå±‚"><a href="#3-2-1-Controllerå±‚" class="headerlink" title="3.2.1 Controllerå±‚"></a>3.2.1 Controllerå±‚</h4><p>åœ¨sky-serveræ¨¡å—ä¸­ï¼Œæ ¹æ®æ¥å£è®¾è®¡ä¸­çš„è¯·æ±‚å‚æ•°å½¢å¼å¯¹åº”çš„åœ¨ EmployeeController ä¸­åˆ›å»ºå¯ç”¨ç¦ç”¨å‘˜å·¥è´¦å·çš„æ–¹æ³•ï¼š</p>
<pre><code class="java">    /**
     * å¯ç”¨ç¦ç”¨å‘˜å·¥è´¦å·
     * @param status
     * @param id
     * @return
     */
    @PostMapping(&quot;/status/&#123;status&#125;&quot;)
    @ApiOperation(&quot;å¯ç”¨ç¦ç”¨å‘˜å·¥è´¦å·&quot;)
    public Result startOrStop(@PathVariable Integer status,Long id)&#123;
        log.info(&quot;å¯ç”¨ç¦ç”¨å‘˜å·¥è´¦å·ï¼š&#123;&#125;,&#123;&#125;&quot;,status,id);
        employeeService.startOrStop(status,id);//åç»ªæ­¥éª¤å®šä¹‰
        return Result.success();
    &#125;
</code></pre>
<h4 id="3-2-2-Serviceå±‚æ¥å£"><a href="#3-2-2-Serviceå±‚æ¥å£" class="headerlink" title="3.2.2 Serviceå±‚æ¥å£"></a>3.2.2 Serviceå±‚æ¥å£</h4><p>åœ¨ EmployeeService æ¥å£ä¸­å£°æ˜å¯ç”¨ç¦ç”¨å‘˜å·¥è´¦å·çš„ä¸šåŠ¡æ–¹æ³•ï¼š</p>
<pre><code class="java">    /**
     * å¯ç”¨ç¦ç”¨å‘˜å·¥è´¦å·
     * @param status
     * @param id
     */
    void startOrStop(Integer status, Long id);
</code></pre>
<h4 id="3-2-3-Serviceå±‚å®ç°ç±»"><a href="#3-2-3-Serviceå±‚å®ç°ç±»" class="headerlink" title="3.2.3 Serviceå±‚å®ç°ç±»"></a>3.2.3 Serviceå±‚å®ç°ç±»</h4><p>åœ¨ EmployeeServiceImpl ä¸­å®ç°å¯ç”¨ç¦ç”¨å‘˜å·¥è´¦å·çš„ä¸šåŠ¡æ–¹æ³•ï¼š</p>
<pre><code class="java">    /**
     * å¯ç”¨ç¦ç”¨å‘˜å·¥è´¦å·
     *
     * @param status
     * @param id
     */
    public void startOrStop(Integer status, Long id) &#123;
        Employee employee = Employee.builder()
                .status(status)
                .id(id)
                .build();

        employeeMapper.update(employee);
    &#125;
</code></pre>
<h4 id="3-2-4-Mapperå±‚"><a href="#3-2-4-Mapperå±‚" class="headerlink" title="3.2.4 Mapperå±‚"></a>3.2.4 Mapperå±‚</h4><p>åœ¨ EmployeeMapper æ¥å£ä¸­å£°æ˜ update æ–¹æ³•ï¼š</p>
<pre><code class="java">    /**
     * æ ¹æ®ä¸»é”®åŠ¨æ€ä¿®æ”¹å±æ€§
     * @param employee
     */
    void update(Employee employee);
</code></pre>
<p>åœ¨ EmployeeMapper.xml ä¸­ç¼–å†™SQLï¼š</p>
<pre><code class="sql">&lt;update id=&quot;update&quot; parameterType=&quot;Employee&quot;&gt;
        update employee
        &lt;set&gt;
            &lt;if test=&quot;name != null&quot;&gt;name = #&#123;name&#125;,&lt;/if&gt;
            &lt;if test=&quot;username != null&quot;&gt;username = #&#123;username&#125;,&lt;/if&gt;
            &lt;if test=&quot;password != null&quot;&gt;password = #&#123;password&#125;,&lt;/if&gt;
            &lt;if test=&quot;phone != null&quot;&gt;phone = #&#123;phone&#125;,&lt;/if&gt;
            &lt;if test=&quot;sex != null&quot;&gt;sex = #&#123;sex&#125;,&lt;/if&gt;
            &lt;if test=&quot;idNumber != null&quot;&gt;id_Number = #&#123;idNumber&#125;,&lt;/if&gt;
            &lt;if test=&quot;updateTime != null&quot;&gt;update_Time = #&#123;updateTime&#125;,&lt;/if&gt;
            &lt;if test=&quot;updateUser != null&quot;&gt;update_User = #&#123;updateUser&#125;,&lt;/if&gt;
            &lt;if test=&quot;status != null&quot;&gt;status = #&#123;status&#125;,&lt;/if&gt;
        &lt;/set&gt;
        where id = #&#123;id&#125;
    &lt;/update&gt;
</code></pre>
<h3 id="3-3-åŠŸèƒ½æµ‹è¯•"><a href="#3-3-åŠŸèƒ½æµ‹è¯•" class="headerlink" title="3.3 åŠŸèƒ½æµ‹è¯•"></a>3.3 åŠŸèƒ½æµ‹è¯•</h3><h4 id="3-3-1-æ¥å£æ–‡æ¡£æµ‹è¯•"><a href="#3-3-1-æ¥å£æ–‡æ¡£æµ‹è¯•" class="headerlink" title="3.3.1 æ¥å£æ–‡æ¡£æµ‹è¯•"></a>3.3.1 æ¥å£æ–‡æ¡£æµ‹è¯•</h4><p><img src="/%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96day02/image-20221112143316357.png" alt="image-20221112143316357"></p>
<h4 id="3-3-2-å‰åç«¯è”è°ƒæµ‹è¯•"><a href="#3-3-2-å‰åç«¯è”è°ƒæµ‹è¯•" class="headerlink" title="3.3.2 å‰åç«¯è”è°ƒæµ‹è¯•"></a>3.3.2 å‰åç«¯è”è°ƒæµ‹è¯•</h4><p><strong>æµ‹è¯•å‰ï¼š</strong></p>
<p><img src="/%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96day02/image-20221112143552246.png" alt="image-20221112143552246"></p>
<p><strong>ç‚¹å‡»å¯ç”¨:</strong></p>
<p><img src="/%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96day02/image-20221112143655318.png" alt="image-20221112143655318"></p>
<h3 id="3-4-ä»£ç æäº¤"><a href="#3-4-ä»£ç æäº¤" class="headerlink" title="3.4 ä»£ç æäº¤"></a>3.4 ä»£ç æäº¤</h3><h2 id="4-ç¼–è¾‘å‘˜å·¥"><a href="#4-ç¼–è¾‘å‘˜å·¥" class="headerlink" title="4. ç¼–è¾‘å‘˜å·¥"></a>4. ç¼–è¾‘å‘˜å·¥</h2><h3 id="4-1-éœ€æ±‚åˆ†æä¸è®¾è®¡"><a href="#4-1-éœ€æ±‚åˆ†æä¸è®¾è®¡" class="headerlink" title="4.1 éœ€æ±‚åˆ†æä¸è®¾è®¡"></a>4.1 éœ€æ±‚åˆ†æä¸è®¾è®¡</h3><h4 id="4-1-1-äº§å“åŸå‹"><a href="#4-1-1-äº§å“åŸå‹" class="headerlink" title="4.1.1 äº§å“åŸå‹"></a>4.1.1 äº§å“åŸå‹</h4><p>åœ¨å‘˜å·¥ç®¡ç†åˆ—è¡¨é¡µé¢ç‚¹å‡» â€œç¼–è¾‘â€ æŒ‰é’®ï¼Œè·³è½¬åˆ°ç¼–è¾‘é¡µé¢ï¼Œåœ¨ç¼–è¾‘é¡µé¢å›æ˜¾å‘˜å·¥ä¿¡æ¯å¹¶è¿›è¡Œä¿®æ”¹ï¼Œæœ€åç‚¹å‡» â€œä¿å­˜â€ æŒ‰é’®å®Œæˆç¼–è¾‘æ“ä½œã€‚</p>
<p><img src="/%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96day02/image-20221112144731759.png" alt="image-20221112144731759"></p>
<p><strong>ä¿®æ”¹é¡µé¢åŸå‹</strong>ï¼š</p>
<p>æ³¨ï¼šç‚¹å‡»ä¿®æ”¹æ—¶ï¼Œæ•°æ®åº”è¯¥æ­£å¸¸å›æ˜¾åˆ°ä¿®æ”¹é¡µé¢ã€‚</p>
<p><img src="/%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96day02/image-20221112144842825.png" alt="image-20221112144842825"></p>
<h4 id="4-1-2-æ¥å£è®¾è®¡"><a href="#4-1-2-æ¥å£è®¾è®¡" class="headerlink" title="4.1.2 æ¥å£è®¾è®¡"></a>4.1.2 æ¥å£è®¾è®¡</h4><p>æ ¹æ®ä¸Šè¿°åŸå‹å›¾åˆ†æï¼Œç¼–è¾‘å‘˜å·¥åŠŸèƒ½æ¶‰åŠåˆ°ä¸¤ä¸ªæ¥å£ï¼š</p>
<ul>
<li>æ ¹æ®idæŸ¥è¯¢å‘˜å·¥ä¿¡æ¯</li>
<li>ç¼–è¾‘å‘˜å·¥ä¿¡æ¯</li>
</ul>
<p><strong>1). æ ¹æ®idæŸ¥è¯¢å‘˜å·¥ä¿¡æ¯</strong></p>
<p><img src="è‹ç©¹å¤–å–day02/image-20221112145607939.png" alt="image-20221112145607939" style="zoom:50%;" /><img src="è‹ç©¹å¤–å–day02/image-20221112145619775.png" alt="image-20221112145619775" style="zoom:50%;" /></p>
<p><img src="è‹ç©¹å¤–å–day02/image-20221112145643769.png" alt="image-20221112145643769" style="zoom:50%;" /><img src="è‹ç©¹å¤–å–day02/image-20221112145659035.png" alt="image-20221112145659035" style="zoom:50%;" /></p>
<h3 id="4-2-ä»£ç å¼€å‘"><a href="#4-2-ä»£ç å¼€å‘" class="headerlink" title="4.2 ä»£ç å¼€å‘"></a>4.2 ä»£ç å¼€å‘</h3><h4 id="4-2-1-å›æ˜¾å‘˜å·¥ä¿¡æ¯åŠŸèƒ½"><a href="#4-2-1-å›æ˜¾å‘˜å·¥ä¿¡æ¯åŠŸèƒ½" class="headerlink" title="4.2.1 å›æ˜¾å‘˜å·¥ä¿¡æ¯åŠŸèƒ½"></a>4.2.1 å›æ˜¾å‘˜å·¥ä¿¡æ¯åŠŸèƒ½</h4><p><strong>1). Controllerå±‚</strong></p>
<p>åœ¨ EmployeeController ä¸­åˆ›å»º getById æ–¹æ³•ï¼š</p>
<pre><code class="java">    /**
     * æ ¹æ®idæŸ¥è¯¢å‘˜å·¥ä¿¡æ¯
     * @param id
     * @return
     */
    @GetMapping(&quot;/&#123;id&#125;&quot;)
    @ApiOperation(&quot;æ ¹æ®idæŸ¥è¯¢å‘˜å·¥ä¿¡æ¯&quot;)
    public Result&lt;Employee&gt; getById(@PathVariable Long id)&#123;
        Employee employee = employeeService.getById(id);
        return Result.success(employee);
    &#125;
</code></pre>
<p><strong>2). Serviceå±‚æ¥å£</strong></p>
<p>åœ¨ EmployeeService æ¥å£ä¸­å£°æ˜ getById æ–¹æ³•ï¼š</p>
<pre><code class="java">    /**
     * æ ¹æ®idæŸ¥è¯¢å‘˜å·¥
     * @param id
     * @return
     */
    Employee getById(Long id);
</code></pre>
<p><strong>3). Serviceå±‚å®ç°ç±»</strong></p>
<p>åœ¨ EmployeeServiceImpl ä¸­å®ç° getById æ–¹æ³•ï¼š</p>
<pre><code class="java">     /**
     * æ ¹æ®idæŸ¥è¯¢å‘˜å·¥
     *
     * @param id
     * @return
     */
    public Employee getById(Long id) &#123;
        Employee employee = employeeMapper.getById(id);
        employee.setPassword(&quot;****&quot;);
        return employee;
    &#125;
</code></pre>
<p><strong>4). Mapperå±‚</strong></p>
<p>åœ¨ EmployeeMapper æ¥å£ä¸­å£°æ˜ getById æ–¹æ³•ï¼š</p>
<pre><code class="java">    /**
     * æ ¹æ®idæŸ¥è¯¢å‘˜å·¥ä¿¡æ¯
     * @param id
     * @return
     */
    @Select(&quot;select * from employee where id = #&#123;id&#125;&quot;)
    Employee getById(Long id);
</code></pre>
<h4 id="4-2-2-ä¿®æ”¹å‘˜å·¥ä¿¡æ¯åŠŸèƒ½"><a href="#4-2-2-ä¿®æ”¹å‘˜å·¥ä¿¡æ¯åŠŸèƒ½" class="headerlink" title="4.2.2 ä¿®æ”¹å‘˜å·¥ä¿¡æ¯åŠŸèƒ½"></a>4.2.2 ä¿®æ”¹å‘˜å·¥ä¿¡æ¯åŠŸèƒ½</h4><p><strong>1). Controllerå±‚</strong></p>
<p>åœ¨ EmployeeController ä¸­åˆ›å»º update æ–¹æ³•ï¼š</p>
<pre><code class="java">    /**
     * ç¼–è¾‘å‘˜å·¥ä¿¡æ¯
     * @param employeeDTO
     * @return
     */
    @PutMapping
    @ApiOperation(&quot;ç¼–è¾‘å‘˜å·¥ä¿¡æ¯&quot;)
    public Result update(@RequestBody EmployeeDTO employeeDTO)&#123;
        log.info(&quot;ç¼–è¾‘å‘˜å·¥ä¿¡æ¯ï¼š&#123;&#125;&quot;, employeeDTO);
        employeeService.update(employeeDTO);
        return Result.success();
    &#125;
</code></pre>
<p><strong>2). Serviceå±‚æ¥å£</strong></p>
<p>åœ¨ EmployeeService æ¥å£ä¸­å£°æ˜ update æ–¹æ³•ï¼š</p>
<pre><code class="java">    /**
     * ç¼–è¾‘å‘˜å·¥ä¿¡æ¯
     * @param employeeDTO
     */
    void update(EmployeeDTO employeeDTO);
</code></pre>
<p><strong>3). Serviceå±‚å®ç°ç±»</strong></p>
<p>åœ¨ EmployeeServiceImpl ä¸­å®ç° update æ–¹æ³•ï¼š</p>
<pre><code class="java">     /**
     * ç¼–è¾‘å‘˜å·¥ä¿¡æ¯
     *
     * @param employeeDTO
     */
    public void update(EmployeeDTO employeeDTO) &#123;
        Employee employee = new Employee();
        BeanUtils.copyProperties(employeeDTO, employee);

        employee.setUpdateTime(LocalDateTime.now());
        employee.setUpdateUser(BaseContext.getCurrentId());

        employeeMapper.update(employee);
    &#125;
</code></pre>
<p>åœ¨å®ç°<strong>å¯ç”¨ç¦ç”¨å‘˜å·¥è´¦å·</strong>åŠŸèƒ½æ—¶ï¼Œå·²å®ç°employeeMapper.update(employee)ï¼Œåœ¨æ­¤ä¸éœ€å†™Mapperå±‚ä»£ç ã€‚</p>
<h3 id="4-3-åŠŸèƒ½æµ‹è¯•"><a href="#4-3-åŠŸèƒ½æµ‹è¯•" class="headerlink" title="4.3 åŠŸèƒ½æµ‹è¯•"></a>4.3 åŠŸèƒ½æµ‹è¯•</h3><h4 id="4-3-1-æ¥å£æ–‡æ¡£æµ‹è¯•"><a href="#4-3-1-æ¥å£æ–‡æ¡£æµ‹è¯•" class="headerlink" title="4.3.1 æ¥å£æ–‡æ¡£æµ‹è¯•"></a>4.3.1 æ¥å£æ–‡æ¡£æµ‹è¯•</h4><p>åˆ†åˆ«æµ‹è¯•<strong>æ ¹æ®idæŸ¥è¯¢å‘˜å·¥ä¿¡æ¯</strong>å’Œ<strong>ç¼–è¾‘å‘˜å·¥ä¿¡æ¯</strong>ä¸¤ä¸ªæ¥å£</p>
<p><strong>1). æ ¹æ®idæŸ¥è¯¢å‘˜å·¥ä¿¡æ¯</strong></p>
<p>æŸ¥è¯¢employeeè¡¨ä¸­çš„æ•°æ®ï¼Œä»¥id&#x3D;4çš„è®°å½•ä¸ºä¾‹</p>
<p>å¼€å§‹æµ‹è¯•</p>
<p><img src="/%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96day02/image-20221112155206712.png" alt="image-20221112155206712"></p>
<p><img src="/%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96day02/image-20221112155430652.png" alt="image-20221112155430652"></p>
<p><img src="/%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96day02/image-20221112155559298.png" alt="image-20221112155559298"></p>
<h3 id="4-4-ä»£ç æäº¤"><a href="#4-4-ä»£ç æäº¤" class="headerlink" title="4.4 ä»£ç æäº¤"></a>4.4 ä»£ç æäº¤</h3><h2 id="5-å¯¼å…¥åˆ†ç±»æ¨¡å—åŠŸèƒ½ä»£ç "><a href="#5-å¯¼å…¥åˆ†ç±»æ¨¡å—åŠŸèƒ½ä»£ç " class="headerlink" title="5. å¯¼å…¥åˆ†ç±»æ¨¡å—åŠŸèƒ½ä»£ç "></a>5. å¯¼å…¥åˆ†ç±»æ¨¡å—åŠŸèƒ½ä»£ç </h2><h3 id="5-1-éœ€æ±‚åˆ†æä¸è®¾è®¡"><a href="#5-1-éœ€æ±‚åˆ†æä¸è®¾è®¡" class="headerlink" title="5.1 éœ€æ±‚åˆ†æä¸è®¾è®¡"></a>5.1 éœ€æ±‚åˆ†æä¸è®¾è®¡</h3><h4 id="5-1-1-äº§å“åŸå‹"><a href="#5-1-1-äº§å“åŸå‹" class="headerlink" title="5.1.1 äº§å“åŸå‹"></a>5.1.1 äº§å“åŸå‹</h4><p>åå°ç³»ç»Ÿä¸­å¯ä»¥ç®¡ç†åˆ†ç±»ä¿¡æ¯ï¼Œåˆ†ç±»åŒ…æ‹¬ä¸¤ç§ç±»å‹ï¼Œåˆ†åˆ«æ˜¯ <strong>èœå“åˆ†ç±»</strong> å’Œ <strong>å¥—é¤åˆ†ç±»</strong> ã€‚</p>
<p>å…ˆæ¥åˆ†æ<strong>èœå“åˆ†ç±»</strong>ç›¸å…³åŠŸèƒ½ã€‚</p>
<p><strong>æ–°å¢èœå“åˆ†ç±»ï¼š</strong>å½“æˆ‘ä»¬åœ¨åå°ç³»ç»Ÿä¸­æ·»åŠ èœå“æ—¶éœ€è¦é€‰æ‹©ä¸€ä¸ªèœå“åˆ†ç±»ï¼Œåœ¨ç§»åŠ¨ç«¯ä¹Ÿä¼šæŒ‰ç…§èœå“åˆ†ç±»æ¥å±•ç¤ºå¯¹åº”çš„èœå“ã€‚</p>
<p><strong>èœå“åˆ†ç±»åˆ†é¡µæŸ¥è¯¢ï¼š</strong>ç³»ç»Ÿä¸­çš„åˆ†ç±»å¾ˆå¤šçš„æ—¶å€™ï¼Œå¦‚æœåœ¨ä¸€ä¸ªé¡µé¢ä¸­å…¨éƒ¨å±•ç¤ºå‡ºæ¥ä¼šæ˜¾å¾—æ¯”è¾ƒä¹±ï¼Œä¸ä¾¿äºæŸ¥çœ‹ï¼Œæ‰€ä»¥ä¸€èˆ¬çš„ç³»ç»Ÿä¸­éƒ½ä¼šä»¥åˆ†é¡µçš„æ–¹å¼æ¥å±•ç¤ºåˆ—è¡¨æ•°æ®ã€‚</p>
<p><strong>æ ¹æ®idåˆ é™¤èœå“åˆ†ç±»ï¼š</strong>åœ¨åˆ†ç±»ç®¡ç†åˆ—è¡¨é¡µé¢ï¼Œå¯ä»¥å¯¹æŸä¸ªåˆ†ç±»è¿›è¡Œåˆ é™¤æ“ä½œã€‚éœ€è¦æ³¨æ„çš„æ˜¯å½“åˆ†ç±»å…³è”äº†èœå“æˆ–è€…å¥—é¤æ—¶ï¼Œæ­¤åˆ†ç±»ä¸å…è®¸åˆ é™¤ã€‚</p>
<p><strong>ä¿®æ”¹èœå“åˆ†ç±»ï¼š</strong>åœ¨åˆ†ç±»ç®¡ç†åˆ—è¡¨é¡µé¢ç‚¹å‡»ä¿®æ”¹æŒ‰é’®ï¼Œå¼¹å‡ºä¿®æ”¹çª—å£ï¼Œåœ¨ä¿®æ”¹çª—å£å›æ˜¾åˆ†ç±»ä¿¡æ¯å¹¶è¿›è¡Œä¿®æ”¹ï¼Œæœ€åç‚¹å‡»ç¡®å®šæŒ‰é’®å®Œæˆä¿®æ”¹æ“ä½œã€‚</p>
<p><strong>å¯ç”¨ç¦ç”¨èœå“åˆ†ç±»ï¼š</strong>åœ¨åˆ†ç±»ç®¡ç†åˆ—è¡¨é¡µé¢ï¼Œå¯ä»¥å¯¹æŸä¸ªåˆ†ç±»è¿›è¡Œå¯ç”¨æˆ–è€…ç¦ç”¨æ“ä½œã€‚</p>
<p><strong>åˆ†ç±»ç±»å‹æŸ¥è¯¢ï¼š</strong>å½“ç‚¹å‡»åˆ†ç±»ç±»å‹ä¸‹æ‹‰æ¡†æ—¶ï¼Œä»æ•°æ®åº“ä¸­æŸ¥è¯¢æ‰€æœ‰çš„èœå“åˆ†ç±»æ•°æ®è¿›è¡Œå±•ç¤ºã€‚</p>

    </div>
    
    
    
    
    
    
    
</div>

            <footer id="footer">
    <div id="footer-wrap">
        <div>
            &copy;
            2022 - 2025 é™ˆå°è¾¾çš„ä¸ªäººåšå®¢
            <span id="footer-icon">
                <i class="fa-solid fa-font-awesome fa-fw"></i>
            </span>
            &commat;chenjunda
        </div>
        <div>
            Based on the <a target="_blank" rel="noopener" href="https://hexo.io">Hexo Engine</a> &amp;
            <a target="_blank" rel="noopener" href="https://github.com/theme-particlex/hexo-theme-particlex">ParticleX Theme</a>
        </div>
        
    </div>
</footer>

        </div>
        
        <transition name="fade">
            <div id="preview" ref="preview" v-show="previewShow">
                <img id="preview-content" ref="previewContent" />
            </div>
        </transition>
        
    </div>
    <script src="/js/main.js"></script>
    
    




    
</body>
</html>
